pico-8 cartridge // http://www.pico-8.com
version 37
__lua__
x=0 y=0

function _update()
	move()
end

function _draw()
	cls(2)
	--camera(x,y)
	map()
	--spr(96,32-x,34-y,2,2)
	--spr(96,40-x,38-y,2,2)
	spr(96,56-x,54-y,2,2)
	--camera()
	print("score 10722")
	print(x)
	print(y)
	spr(66,56,56,2,2)
end

function move()
	if (btnp(0)) move_left()
	if (btnp(1)) move_right()
	if (btnp(2)) move_down()
	if (btnp(3)) move_up()
end

--calculate the opposite pos
--to loop the map
function move_up()
	if (x==72 and not is_even(y/4)) then
	
		if (y<0) then
			x=-((y/8+4.5)*16)
			y=-72
		else
			x=-72
			y=-36+8*((y/8)-4.5)
	 end
	 
	elseif (y==72 and is_even(x/4)) then
		y=36-(x/16)*8
		x=-72
	else
		y+=4
		x+=8
	end
end

function move_down()
	
	if (x==-72 and not is_even(y/4)) then
		
		if (y<0) then
			x=72
			y=36+8*((y/8)+4.5)
		else
			x=-(y/8-4.5)*16
			y=72
	 end
	 
	elseif (y==-72 and is_even(x/4)) then
		y=-36-(x/16)*8
		x=72
	else
		y-=4
		x-=8
	end
	
end

function move_right()
	
	if (x==72 and not is_even(y/4)) then
	
		if (y<0) then
			
			--y=-((x/8+4.5)*16)
			y=36+8*((y/8)+4.5)
			x=-72
		else
			--x=-72
			--y=36+8*((y/8)+4.5)
			y=72
	 end
	 
	elseif (y==72 and is_even(x/4)) then
		y=36-(x/16)*8
		x=-72
	else
		y-=4
		x+=8
	end
	
end

function move_left()
	if (x>-72) then
		x-=8
		y+=4 
	else
		x=-x
		y=-y
		--x=48
		--y=-24
	end
end

function is_even(num)
	return num%2==0
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000002882000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000022222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddd55dddddd55ddd0000222222220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddddd55dd55ddddd0002222222222000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddddddd55ddddddd0000022222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddddd55dd55ddddd0000002222000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddd55dddddd55ddd0000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
d55dddddddddd55d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5dddddddddddddd50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
d55dddddddddd55d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000007700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000776677000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077666666770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00766666666667000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07666666666666700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07766666666667700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07677666666776700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07666776677666700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07666667766666700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07666667766666700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07667667766666700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07676767766666700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07676767766666700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00776767766677000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00007767767700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000077770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505150515051505150515051505150515051505150515051000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000112000000000000000001c150000002a050000001b0500000000000000002f0500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
